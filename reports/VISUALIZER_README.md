# üìä Conversation Journey Visualizer

A standalone web interface for visualizing assessment improvement across conversation milestones in social skills coaching experiments.

## üéØ Features

- **Interactive Line Plots**: Visualize how each dummy's assessment scores improve over conversation rounds
- **Clickable Conversation History**: Click any line to view complete conversation transcript
- **Multiple View Modes**: 
  - All dummies overlay
  - Individual dummy focus
  - Average trend analysis
- **Experiment Selection**: Choose from available continuous conversation experiments
- **Real-time Statistics**: View performance metrics and summaries
- **Responsive Design**: Works on desktop and mobile devices

## üöÄ Quick Start

### 1. Prerequisites
- Python 3.7+
- Flask
- Some continuous conversation experiment data (from `conversation_length_experiment_v2.py`)

### 2. Install Dependencies
```bash
pip install flask flask-cors
```

### 3. Run the Visualizer
```bash
python start_visualizer.py
```

### 4. Open in Browser
Navigate to: http://localhost:5001

## üìÅ Files

- `conversation_journey_visualizer.html` - Main frontend interface
- `experiment_api_server.py` - Flask API server for data
- `start_visualizer.py` - Easy startup script
- `VISUALIZER_README.md` - This documentation

## üé® Interface Overview

### Controls
- **Experiment Selector**: Choose which experiment to visualize
- **View Mode**: 
  - All Dummies: Show all participants on one chart
  - Individual Dummy: Focus on one participant
  - Average Trend: Show average performance across all participants
- **Dummy Selector**: Choose specific participant (when in individual mode)

### Chart Features
- **X-axis**: Conversation rounds (5, 10, 15, 20, 25, 30)
- **Y-axis**: Assessment improvement (points)
- **Interactive**: Hover over data points for details
- **Clickable**: Click any line to view complete conversation history
- **Color-coded**: Each dummy gets a unique color
- **Responsive**: Adapts to different screen sizes

### Conversation History Modal
- **Complete Transcript**: View full conversation between AI coach and dummy
- **Milestone Markers**: Highlight assessment points during conversation
- **Turn-by-turn Display**: See each exchange with speaker identification
- **Metadata**: Pre/post scores, improvement, duration, total turns
- **Scrollable**: Handle long conversations with ease

### Statistics Panel
- Total number of dummies
- Average final improvement
- Best and worst final improvements
- Performance distribution

## üìä Data Requirements

The visualizer expects experiment files in the format generated by `conversation_length_experiment_v2.py`:

```json
{
  "experiment_info": {
    "num_dummies": 10,
    "max_rounds": 30,
    "assessment_milestones": [5, 10, 15, 20, 25, 30]
  },
  "results": [
    {
      "dummy_name": "Gregory Moore",
      "pre_assessment_score": 2.4,
      "final_assessment_score": 2.8,
      "milestone_results": [
        {
          "milestone_rounds": 5,
          "improvement": 0.5,
          "milestone_score": 2.9
        }
      ]
    }
  ]
}
```

## üîß API Endpoints

The server provides these endpoints:

- `GET /` - Main visualizer page
- `GET /api/experiments` - List available experiments
- `GET /api/experiment/<filename>` - Get experiment data
- `GET /api/experiment/<filename>/summary` - Get experiment summary
- `GET /api/health` - Health check

## üéØ Use Cases

### Research Analysis
- Compare performance patterns across different conversation lengths
- Identify optimal conversation durations
- Analyze individual vs. group performance trends
- Investigate conversation dynamics by viewing complete transcripts
- Understand why certain conversation lengths work better

### Presentation
- Visualize experiment results for stakeholders
- Show clear evidence of conversation length impact
- Demonstrate statistical significance of findings

### Development
- Validate conversation simulator improvements
- Test new coaching strategies
- Optimize conversation parameters

## üõ†Ô∏è Customization

### Adding New Experiments
1. Run experiments with `conversation_length_experiment_v2.py`
2. Files will automatically appear in the experiment selector
3. No code changes needed

### Modifying Visualizations
Edit `conversation_journey_visualizer.html`:
- Change colors in the `colors` array
- Modify chart dimensions
- Add new view modes
- Customize statistics calculations

### Styling
The interface uses modern CSS with:
- Responsive grid layouts
- Clean typography
- Interactive hover effects
- Professional color scheme

## üö® Troubleshooting

### No Experiments Found
- Ensure you've run `conversation_length_experiment_v2.py` first
- Check that files exist in `data/experiments/`
- Verify file names start with `continuous_conversation_exp_`

### Server Won't Start
- Check if port 5001 is available
- Ensure Flask is installed: `pip install flask flask-cors`
- Verify Python 3.7+ is being used

### Charts Not Loading
- Check browser console for JavaScript errors
- Ensure D3.js is loading (requires internet connection)
- Verify experiment data format is correct

## üìà Example Insights

Based on the visualization, you might discover:

- **Early Engagement**: 5 rounds show strong initial impact
- **Mid-conversation Plateau**: 15 rounds consistently underperform
- **Long-term Benefits**: 25-30 rounds provide maximum improvement
- **Individual Variation**: Some dummies respond better to longer conversations
- **Statistical Patterns**: Consistent trends across multiple experiments

## üîÑ Integration

This visualizer is designed to work alongside the main `web_interface.py` without conflicts:

- Uses different port (5001 vs 5000)
- Separate API endpoints
- Standalone HTML file
- No modifications to existing codebase

## üìù License

Part of the edu_chatbot project. See main project license for details.
